# ğŸ´â­ ì „ë¶ëŒ€ ìŒì‹ ì¶”ì²œ ì•± - ì˜¤ëŠ˜ ë­ ë¨¹ì§€

<div align="right">
  ëª¨ë°”ì¼í”„ë¡œê·¸ë˜ë°
  ğŸ—“ï¸ 2022.04.26 - 2022.06.20
</div>
<br>

<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/f4a85689-9838-49ed-b82e-6cbb88db5cf7">
<br><br>

## ë©”ì¸ ì•„ì´ë””ì–´
- ë§¤ë²ˆ ì–´ë–¤ ìŒì‹ì„ ë¨¹ì„ì§€ ê³ ë¥´ê¸° í˜ë“ ë° ëˆ„ê°€ ì •í•´ì¤„ ìˆ˜ ì—†ì„ê¹Œ â“
- ë¹„ì„ í˜¸ ìŒì‹, ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìŒì‹ê³¼ ìŒì‹ì ì„ ë™ì‹œì— ì¶”ì²œí•´ì£¼ì ğŸ’¡
- í¬ë¡¤ë§ê³¼ ë„¤ì´ë²„ ì§€ë„ APIë¥¼ í™œìš©í•´ ì•ˆë“œë¡œì´ë“œ ì•± ì œì‘ ğŸ“²
<br>

## ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
<!--ë©”ì¸í™”ë©´-->
<h3 align="center">
   ì•± ì‚¬ìš© ì¤‘ ì›€ì§ì—¬ë„ ê´œì°®ì•„ìš”! ğŸ”ƒ
</h3>
<div align="center">

  **ì£¼ì†Œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆì–´ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/95dee8d6-abba-4b2f-a019-ce49a5c2f0a3" width="30%" height="auto">
  <br><br>
  ì‚¬ìš©ìì˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ ì™¼ìª½ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.
</div>
<hr>

<!--ë¹„ì„ í˜¸ìŒì‹-->
<h3 align="center">
   ì‹«ì–´í•˜ëŠ” ìŒì‹ì„ ì„ íƒí•´ ë³´ì„¸ìš”! â˜¹ï¸
</h3>
<div align="center">

  **37ê°€ì§€ì˜ ìŒì‹ ì¤‘ì— ë§ˆìŒëŒ€ë¡œ ê³¨ë¼ë³´ì„¸ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/0bd9361a-0709-44e3-9fd8-df45ffdd7b58" width="28%" height="auto">
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/614f3b43-0f67-454e-8f05-cfcb0a32cdda" width="28%" height="auto">
  <br><br>
  ë‚´ë¦° ì—„ì§€ë¥¼ ëˆ„ë¥´ë©´ íŒì—…ì°½ì´ ë– ìš”.<br><br>
  ì„ íƒí•œ ìŒì‹ì€ ì¶”ì²œ ëŒ€ìƒì—ì„œ ì œì™¸ë¼ìš”.<br><br>
  ìŒì‹ì„ ì„ íƒí–ˆë‹¤ë©´ ë‹«ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.
</div>
<hr>

<!--ì¹´í…Œê³ ë¦¬-->
<h3 align="center">
   ìŒì‹ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ ë³´ì„¸ìš”! âœ”ï¸
</h3>
<div align="center">

  **ì›í•˜ëŠ” ì¹´í…Œê³ ë¦¬ì˜ ìŒì‹ì„ ì¶”ì²œí•´ ë“œë ¤ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/56f9cb2c-1541-44b8-8555-71bdeabde3a3">
  <br><br>
  ì¹´í…Œê³ ë¦¬ë¥¼ ì—¬ëŸ¬ ê°œ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”.<br><br>
  ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ëª¨ë“  ì¹´í…Œê³ ë¦¬ì—ì„œ ì¶”ì²œí•´ ë“œë ¤ìš”.
</div>
<hr>

<!--ì¶”ì²œë²„íŠ¼-->
<h3 align="center">
   ì´ì œ ì†ê°€ë½ì„ ëˆŒëŸ¬ ìŒì‹ì„ ì¶”ì²œë°›ì•„ìš”! ğŸ‘†ğŸ»
</h3>
<div align="center">

  **ëœë¤í•˜ê²Œ ì„ íƒëœ ìŒì‹ê³¼ í•´ë‹¹í•˜ëŠ” ìŒì‹ì ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/b3bc6a23-af81-48bc-9943-1318ac5f7b45" width="30%" height="auto">
  <br><br>
  í™”ë©´ì„ ì˜†ìœ¼ë¡œ ë„˜ê¸°ë©´ ë‹¤ë¥¸ ìŒì‹ì ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.<br><br>
  ë‹¤ë¥¸ ìŒì‹ì„ ì¶”ì²œë°›ê³  ì‹¶ë‹¤ë©´ ì†ê°€ë½ì„ ë‹¤ì‹œ í•œë²ˆ ëˆŒëŸ¬ì£¼ì„¸ìš”.
</div>
<hr>

<!--ê±°ë¦¬,í‰ì -->
<h3 align="center">
   ìŒì‹ì ì„ ê³ ë¥´ê¸° ì–´ë µë‹¤ë©´ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ ë³´ì„¸ìš”! ğŸ¤”
</h3>
<div align="center">

  **ê±°ë¦¬ìˆœê³¼ í‰ì ìˆœìœ¼ë¡œ ìŒì‹ì ë“¤ì„ ì •ë ¬í•  ìˆ˜ ìˆì–´ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/eb06abc6-7eac-4340-b75c-5125bc22573d" width="60%" height="auto"><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/95a3609b-b1ef-41c1-8f27-91b41f355b43" width="60%" height="auto">
  <br><br>
  ê±°ë¦¬ìˆœì„ ëˆ„ë¥´ë©´ ì‚¬ìš©ìì™€ ê±°ë¦¬ê°€ ê°€ê¹Œìš´ ìˆœì„œëŒ€ë¡œ ìŒì‹ì ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.<br><br>
  í‰ì ìˆœì„ ëˆ„ë¥´ë©´ í‰ì ì´ ë†’ì€ ìˆœì„œëŒ€ë¡œ ìŒì‹ì ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.
</div>
<hr>

<!--ìŒì‹ì ì •ë³´-->
<h3 align="center">
   ìŒì‹ì  í™”ë©´ì„ ëˆŒëŸ¬ ì •ë³´ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”! ğŸ˜‹
</h3>
<div align="center">

  **íŒì—…ì°½ì—ì„œ ì „í™”ë²ˆí˜¸ì™€ ì˜ì—…ì‹œê°„ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/4b280325-5acb-4412-919e-a00cf3b16afc" width="30%" height="auto">
  <br>
</div>
<hr>

<!--ì§€ë„-->
<h3 align="center">
   í•˜ë‹¨ì˜ ì§€ë„ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ìœ„ì¹˜ë¥¼ í™•ì¸í•´ë´ìš”! ğŸ—ºï¸
</h3>
<div align="center">

  **ë„¤ì´ë²„ ì§€ë„ì—ì„œ ìŒì‹ì ì˜ ìœ„ì¹˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš” ğŸ¤** <br><br>
  <img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/71f449a1-7770-4515-943f-657c0304c397" width="30%" height="auto">
  <br>
</div>
<br>

## ë°œí‘œ ì˜ìƒ
<a href="https://youtu.be/4uJ0ucmKLG8"><img src="https://img.shields.io/badge/Youtube-FF0000.svg?style=flat-square&logo=youtube&logoColor=white"/></a>
<br><br>

## ì—­í•  ë¶„ë‹´
|íŒ€ì›|íŒ€ì›|
|:--:|:--:|
|[ì˜¤ì†Œì˜](https://github.com/irrso)|[ì •ì„±ë¬¸](https://github.com/tjdans6342)|
|ì•± ë””ìì¸ ì„¤ê³„<br>XML ë ˆì´ì•„ì›ƒ êµ¬í˜„<br>ë„¤ì´ë²„ ì§€ë„ API ì—°ë™<br>ê¸°ëŠ¥ ë¡œì§ êµ¬í˜„ ë³´ì¡°<br>í˜•ìƒê´€ë¦¬|ìŒì‹ì  ì •ë³´ í¬ë¡¤ë§<br>ê¸°ëŠ¥ ë¡œì§ êµ¬í˜„<br>ë°œí‘œ|
<br>

## ê¸°ìˆ  ìŠ¤íƒ
|ë¶„ë¥˜|ê¸°ìˆ  ìŠ¤íƒ|
|:--:|--|
|í¬ë¡¤ë§|<img src="https://img.shields.io/badge/Selenium-43B02A.svg?style=flat-square&logo=selenium&logoColor=white"/> <img src="https://img.shields.io/badge/Python-3776AB.svg?style=flat-square&logo=python&logoColor=white"/>|
|ì•± ì œì‘|<img src="https://img.shields.io/badge/Android-34A853.svg?style=flat-square&logo=android&logoColor=white"/> <img src="https://img.shields.io/badge/Android Studio-3DDC84.svg?style=flat-square&logo=androidstudio&logoColor=white"/> <img src="https://img.shields.io/badge/Java-007396.svg?style=flat-square&logo=java&logoColor=white"/> <img src="https://img.shields.io/badge/Naver Cloud Platform-03C75A.svg?style=flat-square&logo=naver&logoColor=white"/>|
|í˜‘ì—…|<img src="https://img.shields.io/badge/KakaoTalk-FFCD00.svg?style=flat-square&logo=kakaotalk&logoColor=black"/> <img src="https://img.shields.io/badge/GitHub-181717.svg?style=flat-square&logo=github&logoColor=white"/>|

### Selenium
- ìŒì‹ì ë“¤ì˜ ì´ë¦„, ì¹´í…Œê³ ë¦¬, ì „í™”ë²ˆí˜¸, ì˜ì—…ì‹œê°„ ë“±ì„ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ ì‚¬ìš©
- `crawling.xls`ë¡œ ë°ì´í„° ì €ì¥

### Naver Cloud Platform
- `Reverse Geocoding API` ì‚¬ìš©
- ì¢Œí‘œë¥¼ ë„ë¡œëª… ì£¼ì†Œë¡œ ë³€í™˜í•˜ì—¬ í˜„ì¬ ì‚¬ìš©ìì˜ ì£¼ì†Œë¥¼ ë‚˜íƒ€ëƒ„
<br>

## ì‹œìŠ¤í…œ ê°œìš”
<!--xml ë ˆì´ì•„ì›ƒ--> <!--MainActivity, CreateBasicInfo, DislikeFragment, GetFood, InfoFragment, ShopFragment êµ¬ì¡°-->
### í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/96cc8cf7-1d36-4128-b8fa-a616c9b0d801">
<br><br>

## ì‹œìŠ¤í…œ ê¸°ëŠ¥
### ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
- `setLocation()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ GPSë¡œ í˜„ì¬ ìœ„ë„, ê²½ë„ë¥¼ ê°€ì ¸ì˜´
- `getaddress()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ `Reverse Geocoding API`ë¥¼ ì‚¬ìš© [^id1]
   [^id1]: ğŸš© ì´ˆê¸°ì—ëŠ” `Geocoder` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì˜€ì§€ë§Œ, ë„ë¡œëª… ì£¼ì†Œë¡œ ë³€í™˜ë˜ì§€ ì•Šì•„ ì •í™•í•œ ì£¼ì†Œë¥¼ ë°›ì•„ ì˜¬ ìˆ˜ ì—†ì–´ ë³€ê²½
- HTTP ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ì•„ ë„ë¡œëª… ì£¼ì†Œë¥¼ ê°€ì ¸ì˜´
- ë„ë¡œëª… ì£¼ì†Œ ë¯¸ë°œê²¬ ì‹œ ì§€ë²ˆ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜´
<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/bb890c4a-16cc-42d1-83ea-a7f712d0e5a8">

<details>
    <summary> <img src="https://img.shields.io/badge/MainActivity.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        /// í˜„ì¬ì£¼ì†Œ ì—…ë°ì´íŠ¸
        ActivityCompat.requestPermissions(MainActivity.this, REQUIRED_PERMISSIONS, 100);
        location_t = findViewById(R.id.location_t);
        setLocation(); location_t.setText(getaddress());
        refreshBtn = findViewById(R.id.refresh);
        refreshBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                setLocation();
                runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        location_t.setText(getaddress());
                    }
                });
            }
        });

    // ê²½ë„,ìœ„ë„
    public void setLocation(){
        gpsTracker = new GpsTracker(MainActivity.this);
        latitude = gpsTracker.getLatitude();
        longitude = gpsTracker.getLongitude();
    }

    /// ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    public String getaddress() {
        String finalAddress = "ë„ë¡œëª…ì£¼ì†Œ ë¯¸ë°œê²¬";
        String finalAddress2 = "ì§€ë²ˆì£¼ì†Œ ë¯¸ë°œê²¬";
        try {
            BufferedReader bufferedReader = null;
            StringBuilder stringBuilder = new StringBuilder();
            String coord = longitude+","+latitude;
            Log.d("coord", coord);
            String query = "https://naveropenapi.apigw.ntruss.com/map-reversegeocode/v2/gc?request=coordsToaddr&coords="
                    + coord + "&sourcecrs=epsg:4326&output=json&orders=roadaddr&output=xml";
            URL url = null;
            HttpURLConnection conn = null;

            BufferedReader bufferedReader2 = null;
            StringBuilder stringBuilder2 = new StringBuilder();
            String query2 = "https://naveropenapi.apigw.ntruss.com/map-reversegeocode/v2/gc?request=coordsToaddr&coords="
                    + coord + "&sourcecrs=epsg:4326&output=json&orders=addr&output=xml";
            URL url2 = null;
            HttpURLConnection conn2 = null;

            try {
                url = new URL(query);
                url2 = new URL(query2);
                Log.d("request", "URL ë¨");
            } catch (MalformedURLException e) {
                Log.d("request", "URL ì•ˆë¨");
            }
            try {
                conn = (HttpURLConnection) url.openConnection();
                conn2 = (HttpURLConnection) url2.openConnection();
            } catch (IOException e) {
                Log.d("request", "http ì•ˆë¨");
            }

            //ë„ë¡œëª… ì£¼ì†Œ
            if (conn != null) {
                conn.setConnectTimeout(5000);
                conn.setReadTimeout(5000);
                try {
                    conn.setRequestMethod("GET");
                    Log.d("request", "conn ë¨");
                } catch (ProtocolException e) {
                    Log.d("request", "conn ì•ˆë¨");
                }
                conn.setRequestProperty("X-NCP-APIGW-API-KEY-ID", "3hxuop6xkd");
                conn.setRequestProperty("X-NCP-APIGW-API-KEY", "illyoSwD97UiNVfZs4SI4eso09HNJ0CHjHAeRgh2");
                conn.setDoInput(true);

                int responseCode = 0;
                try {
                    responseCode = conn.getResponseCode();
                    Log.d("request", responseCode + "");
                } catch (IOException e) {
                    Log.d("request", "responseCode ì•ˆë¨");
                }

                if (responseCode == 200) {
                    bufferedReader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
                } else {
                    bufferedReader = new BufferedReader(new InputStreamReader(conn.getErrorStream()));
                    Log.d("request", "if responseCode ì•ˆë¨");
                }

                String line = null;
                while ((line = bufferedReader.readLine()) != null) {
                    stringBuilder.append(line + "\n");
                }

                Gson gson = new Gson();
                Log.d("request", String.valueOf(stringBuilder));
                Addresses address = gson.fromJson(String.valueOf(stringBuilder), Addresses.class);
                if (address.results.length != 0) {
                    finalAddress = address.results[0].region.area2.name+" ";
                    finalAddress += address.results[0].region.area3.name+" ";
                    finalAddress += address.results[0].land.name+" ";
                    finalAddress += address.results[0].land.number1;
                }
                Log.d("request", finalAddress);
                bufferedReader.close();
                conn.disconnect();
            }

            //ì§€ë²ˆ ì£¼ì†Œ
            if (conn2 != null) {
                conn2.setConnectTimeout(5000);
                conn2.setReadTimeout(5000);
                try {
                    conn2.setRequestMethod("GET");
                    Log.d("request2", "conn ë¨");
                } catch (ProtocolException e) {
                    Log.d("request2", "conn ì•ˆë¨");
                }
                conn2.setRequestProperty("X-NCP-APIGW-API-KEY-ID", "3hxuop6xkd");
                conn2.setRequestProperty("X-NCP-APIGW-API-KEY", "illyoSwD97UiNVfZs4SI4eso09HNJ0CHjHAeRgh2");
                conn2.setDoInput(true);

                int responseCode2 = 0;
                try {
                    responseCode2 = conn.getResponseCode();
                    Log.d("request2", responseCode2 + "");
                } catch (IOException e) {
                    Log.d("request2", "responseCode ì•ˆë¨");
                }

                if (responseCode2 == 200) {
                    bufferedReader2 = new BufferedReader(new InputStreamReader(conn2.getInputStream()));
                } else {
                    bufferedReader2 = new BufferedReader(new InputStreamReader(conn2.getErrorStream()));
                    Log.d("request", "if responseCode ì•ˆë¨");
                }

                String line2 = null;
                while ((line2 = bufferedReader2.readLine()) != null) {
                    stringBuilder2.append(line2 + "\n");
                }

                Gson gson2 = new Gson();
                Log.d("request2", String.valueOf(stringBuilder2));
                Addresses address2 = gson2.fromJson(String.valueOf(stringBuilder2), Addresses.class);
                finalAddress2 = address2.results[0].region.area2.name+" ";
                finalAddress2 += address2.results[0].region.area3.name+" ";
                finalAddress2 += address2.results[0].land.number1;
                if (address2.results[0].land.number2.length() != 0) finalAddress2 += "-" + address2.results[0].land.number2;
                Log.d("request2", finalAddress2);
                bufferedReader2.close();
                conn2.disconnect();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        if(finalAddress != "ë„ë¡œëª…ì£¼ì†Œ ë¯¸ë°œê²¬"){ return finalAddress; }
        else{ return finalAddress2; }
    }
  ```
</details>

### íŒì—…ì°½ ë„ìš°ê¸°
- `DialogFragment`ë¥¼ `custom_dialog`ë¡œ ì»¤ìŠ¤í…€í•˜ì—¬ íŒì—…ì°½ í˜•ì‹ìœ¼ë¡œ êµ¬í˜„ [^id2]
  [^id2]: ğŸš© ì´ˆê¸°ì—ëŠ” `ExpendableListView`ë¡œ êµ¬í˜„í•˜ì˜€ìœ¼ë‚˜ ì‚¬ìš© í¸ì˜ì„±ì„ ìœ„í•´ íŒì—… í˜•ì‹ìœ¼ë¡œ êµ¬í˜„
<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/0b710bcc-a031-4569-b340-5375e02e50d1" width="20%" height="auto">
<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/8e090c4e-374d-4a83-b008-e76b4fd794ab" width="20%" height="auto">

<details>
    <summary> <img src="https://img.shields.io/badge/DislikeFragment.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   public class DislikeFragment extends DialogFragment {

    Button closeBtn;
    Button[] disBtn = new Button[37];
    int[] dId = {
            R.id.bibimbap, R.id.calgooksu, R.id.gooksu, R.id.gookbap, R.id.haejanggook, R.id.gopchang, R.id.ssapbap, R.id.budaezzigae, R.id.zzimdark, R.id.soondae,
            R.id.naengmyen, R.id.gogi, R.id.zockbal, R.id.dosirock, R.id.pasta, R.id.dongas, R.id.steak, R.id.pizza, R.id.pilaf, R.id.hamburger,
            R.id.sandwitch, R.id.toast, R.id.kebap, R.id.soba, R.id.ramen, R.id.chobap, R.id.hoe, R.id.yeoneh, R.id.oodong, R.id.kare,
            R.id.zzazangmyen, R.id.zzamppong, R.id.maratang, R.id.tangsuyook, R.id.tteokboki, R.id.kimbap, R.id.chicken
    };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setStyle(STYLE_NO_TITLE, R.style.custom_dialog);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.fragment_dislike, container, false);

        closeBtn = view.findViewById(R.id.closeBtn);
        closeBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                dismiss();
            }
        });

        // ë¹„ì„ í˜¸ ë²„íŠ¼ í´ë¦­
        for(int i = 0; i < 37; i++){
            disBtn[i] = view.findViewById(dId[i]);
            int index = i;
            disBtn[i].setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View view) {
                    setClicked(index);
                }
            });
            // ê¸¸ê²Œ ëˆ„ë¥´ë©´ ì„ í˜¸ ìŒ‰ê°€ëŠ¥
            disBtn[i].setOnLongClickListener(new View.OnLongClickListener() {
                @Override
                public boolean onLongClick(View view) {
                    setLongClicked(index);
                    return true;
                }
            });
        }

        //ê°’ ë³µì›
        for (int i = 0; i < 37; i++) {
            if(((MainActivity)MainActivity.context).dislike[i] == true){
                disBtn[i].setBackgroundResource(R.drawable.button_round_clicked); disBtn[i].setTextColor(Color.WHITE);}
        }

        return view;
    }

    public void setClicked(int i){
        if(((MainActivity)MainActivity.context).dislike[i] == false){ disBtn[i].setBackgroundResource(R.drawable.button_round_clicked); disBtn[i].setTextColor(Color.WHITE); ((MainActivity)MainActivity.context).dislike[i] = true;}
        else{ disBtn[i].setBackgroundResource(R.drawable.button_round); disBtn[i].setTextColor(Color.parseColor("#919191")); ((MainActivity)MainActivity.context).dislike[i] = false; }
    }

    public void setLongClicked(int idx) {
        for (int i=0; i<37; i++) {
            disBtn[i].setBackgroundResource(R.drawable.button_round_clicked);
            disBtn[i].setTextColor(Color.WHITE);
            ((MainActivity)MainActivity.context).dislike[i] = true;
        }
        setClicked(idx);
    }
}
  ```
</details>

<details>
    <summary> <img src="https://img.shields.io/badge/InfoFragment.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   public class InfoFragment extends DialogFragment {

    Button closeBtn2, phoneImg, timeImg;
    TextView name, classification, phoneNum, phoneNum_t, worktime, worktime_t;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setStyle(STYLE_NO_TITLE, R.style.custom_dialog);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        View view =  inflater.inflate(R.layout.fragment_info, container, false);

        name = view.findViewById(R.id.name);
        classification = view.findViewById(R.id.classification);
        phoneNum = view.findViewById(R.id.phoneNum);
        worktime = view.findViewById(R.id.worktime);
        phoneNum_t = view.findViewById(R.id.phoneNum_t);
        worktime_t = view.findViewById(R.id.worktime_t);
        phoneImg = view.findViewById(R.id.phoneImg);
        timeImg = view.findViewById(R.id.timeImg);

        transContext();

        closeBtn2 = view.findViewById(R.id.closeBtn2);
        closeBtn2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                dismiss();
            }
        });
        return view;
    }

    public void transContext(){
        for (int i = 0; i < ((MainActivity)MainActivity.context).num_page; i++){
            if(((MainActivity)MainActivity.context).pager.getCurrentItem() == i){
                name.setText(((MainActivity)MainActivity.context).name[i]);
                classification.setText(((MainActivity)MainActivity.context).classfication[i]);
                if (((MainActivity)MainActivity.context).phoneNum[i].charAt(0) != '0') phoneNum.setText("ì „í™”ë²ˆí˜¸ ì •ë³´ ì—†ìŒ");
                else phoneNum.setText(((MainActivity)MainActivity.context).phoneNum[i]);
                worktime.setText(((MainActivity)MainActivity.context).worktime[i]);
                if(((MainActivity)MainActivity.context).name[i] != null){
                    phoneNum_t.setText("ì „í™”ë²ˆí˜¸"); phoneImg.setVisibility(View.VISIBLE);
                    worktime_t.setText("ì˜ì—…ì‹œê°„"); timeImg.setVisibility(View.VISIBLE);
                }
            }
        }
    }
}
  ```
</details>

<details>
    <summary> <img src="https://img.shields.io/badge/themes.xml-007396.svg?style=flat-square"/> </summary>

  ```Java
   <style name="custom_dialog" parent="Theme.AppCompat.Dialog">
        <item name="android:windowIsFloating">false</item>
        <item name="android:windowFullscreen">false</item>
        <item name="android:windowBackground">@android:color/transparent</item>
        <item name="android:textViewStyle">@style/custom_textFont</item>
        <item name="android:buttonStyle">@style/custom_btnFont</item>
        <item name="android:backgroundDimEnabled">true</item>
        <item name="android:backgroundDimAmount">0.8</item>
    </style>
  ```
</details>

### ì¶”ì²œ ê¸°ëŠ¥
- `CreateGetGood()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ `GetFood` ê°ì²´ `GF` ìƒì„±
- `SetSortedPage()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ `setShop()`, `setPager()` í•¨ìˆ˜ í˜¸ì¶œ
- `CreateBasicInfo` ê°ì²´ `CBI` ìƒì„±í•˜ì—¬ `get_path()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ `crawling.xls`ì—ì„œ ìŒì‹ì  ë°ì´í„° ê°€ì ¸ì˜´

<details>
    <summary> <img src="https://img.shields.io/badge/MainActivity.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
        /// selectBtn í´ë¦­
        selectBtn = findViewById(R.id.selectBtn);
        selectBtn.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                CreateGetFood(); // GetFood() ê°ì²´ ìƒì„±
                setSortedPage(); // ì˜µì…˜ì— ë§ê²Œ ê°€ê²Œ ë„ìš°ê¸°
            }
        });

        context = this; //MainActivity ë³€ìˆ˜ ì‚¬ìš©

        CreateBasicInfo CBI =  new CreateBasicInfo();
        basicInfo = CBI.basicInfo;
        nameToIdx = CBI.nameToIdx;


    /// ì—‘ì…€ ë¶ˆëŸ¬ì˜¤ê¸°
    public InputStream get_path() {
        try {
            InputStream temp_is = getBaseContext().getResources().getAssets().open("crawling.xls");
            return temp_is;
        } catch (Exception e){
            e.printStackTrace();
            Log.d("crawling", "ì•ˆë¨");
            return null;
        }
    }


    // GetFood() ê°ì²´ ìƒì„±
    public void CreateGetFood() {
        // ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸
        for (int i=0; i<37; i++) categoryFoods[i] = false;
        for (int i=0; i<6; i++) {
            if (category[i]) {
                for (Integer j : categoryList.get(i)) categoryFoods[j] = true;
            }
        }
        // GetFood ê°ì²´ ìƒì„±
        GF = new GetFood(context);
    }


    // ì •ë ¬ ì˜µì…˜ì— ë§ê²Œ ë„ìš°ê¸°
    public void setSortedPage() {
        num_page = GF.SIZE; // í˜ì´ì§€ ê°œìˆ˜ ì§€ì •
        setShop();
        setPager();
        mapBtn.setVisibility(View.VISIBLE); infoBtn.setVisibility(View.VISIBLE);
        leftBtn.setVisibility(View.VISIBLE); rightBtn.setVisibility(View.VISIBLE);
        food_t = findViewById(R.id.food_t); food_t.setText(GF.food);
        Log.d("dist", latitude+","+longitude);
    }
  ```
</details>

<details>
    <summary> <img src="https://img.shields.io/badge/GetFood.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   public GetFood(Context context) { // ì…ë ¥(double latitude, double longitude) => distanceInfo
        // ëœë¤í•˜ê²Œ ìŒì‹ í•˜ë‚˜ ë½‘ê¸°
        int foodIdx;
        {
            // ì¹´í…Œê³ ë¦¬ ìŒì‹ & ë¹„ì„ í˜¸ ìŒì‹ ì²˜ë¦¬
            boolean isNotSelected = true;
            for (int i = 0; i < 6; i++) {
                if (category[i]) isNotSelected = false;
            }
            if (isNotSelected) {
                for (int i = 0; i < 37; i++) categoryFoods[i] = true;
            }

            // ì˜ˆì™¸ì¸ ê²½ìš° ì²˜ë¦¬ (ë½‘í í›„ë³´ê°€ ì—†ëŠ” ê²½ìš°)
            boolean flag = false;
            for (int i = 0; i < 37; i++) {
                if (!dislike[i] && categoryFoods[i]) flag = true;
            }
            if (!flag) { // ì˜ˆì™¸ ì²˜ë¦¬ (ë¹„ì„ í˜¸ê°€ 37ê°œì¸ ê²½ìš°)
                Toast.makeText(context, "ì¹´í…Œê³ ë¦¬ì™€ ë¹„ì„ í˜¸ ìŒì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”.", Toast.LENGTH_SHORT).show();
                for (int i = 0; i < 37; i++) dislike[i] = false;
            }

            // í›„ë³´ ì¤‘ì—ì„œ ëœë¤í•˜ê²Œ ì„ íƒ
            while (true) {
                foodIdx = random.nextInt(37);
                if (!dislike[foodIdx] && categoryFoods[foodIdx]) break;
            }
        }
        food = idxToName[foodIdx];
        SIZE = basicInfo.get(foodIdx).size();
        Log.d("getFood", food + " / " + foodIdx + " / " + SIZE); //


        // ê±°ë¦¬ ê³„ì‚°í•´ì„œ basicInfo ì˜ distance ì— ë„£ê¸°
        {
            double cur_lat = ((MainActivity)MainActivity.context).longitude;
            double cur_lon = ((MainActivity)MainActivity.context).latitude;
            for (int i=0; i<SIZE; i++) {
                double shop_lat = Double.parseDouble(basicInfo.get(foodIdx).get(i).latitude);
                double shop_lon = Double.parseDouble(basicInfo.get(foodIdx).get(i).longitude);
                double dist = calculateDistance(cur_lat, cur_lon, shop_lat, shop_lon);
                dist = Math.round(dist*1000);
                basicInfo.get(foodIdx).get(i).distance = dist;
            }
        }


        // ëœë¤ ë°°ì—´ ë§Œë“¤ê¸°
        int[] randomIdx = new int[SIZE]; {
            Integer[] array = new Integer[SIZE];
            for (int i = 0; i < SIZE; i++) array[i] = i;
            List<Integer> list = Arrays.asList(array);

            Collections.shuffle(list);
            list.toArray(array);
            for (int i=0; i<SIZE; i++) randomIdx[i] = array[i];
        }
        for (int i=0; i<SIZE; i++) randomInfo.add(basicInfo.get(foodIdx).get(randomIdx[i]));


        // í‰ì  ë°°ì—´ ë§Œë“¤ê¸°
        int[] rankIdx = new int[SIZE]; {
            double[][] array = new double[SIZE][2];
            for (int i=0; i<SIZE; i++) {
                double rank;
                {
                    String rankStr = basicInfo.get(foodIdx).get(i).rank;
                    try {
                        rank = Double.parseDouble(rankStr);
                    } catch (Exception e) {
                        rank = 0.0;
                    }
                }

                int idx = i;

                array[i][0] = rank;
                array[i][1] = idx;
            }
            Arrays.sort(array, Comparator.comparingDouble(o1 -> o1[0]));

            double[][] array2 = new double[SIZE][2];
            for (int i=0; i<SIZE; i++) {
                array2[i][0] = array[SIZE-i-1][0];
                array2[i][1] = array[SIZE-i-1][1];
            }

            for (int i=0; i<SIZE; i++) rankIdx[i] = (int) array2[i][1];
        }
        for (int i=0; i<SIZE; i++) rankInfo.add(basicInfo.get(foodIdx).get(rankIdx[i]));
  ```
</details>

<details>
    <summary> <img src="https://img.shields.io/badge/CreateBasicInfo.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   public class CreateBasicInfo {
    Vector<Vector<BasicInfo>> basicInfo = new Vector<Vector<BasicInfo>>(37);
    HashMap<String, Integer> nameToIdx = new HashMap<String, Integer>();


    public CreateBasicInfo() {
        for(int i=0; i<37; i++) basicInfo.add(new Vector<BasicInfo>());

        String[] foods = ((MainActivity)MainActivity.context).idxToName;

        // ì—‘ì…€ì—ì„œ ë°ì´í„° ë°›ì•„ì˜¤ê¸°
        try {
            InputStream is = ((MainActivity)MainActivity.context).get_path();
            POIFSFileSystem fs = new POIFSFileSystem(is);
            HSSFWorkbook wb = new HSSFWorkbook(fs);

            for (int foodIdx=0; foodIdx<foods.length; foodIdx++) {
                // name -> idx ë§¤í•‘
                nameToIdx.put(foods[foodIdx], foodIdx);

//                Log.d("crawling", "food idx is : " + foodIdx + " " + foods[foodIdx]); //
                Log.d("crawling", "food idx is : " + nameToIdx.get(foods[foodIdx]) + " " + foods[foodIdx]); //
                Sheet sheet = wb.getSheet(foods[foodIdx]);

                for (int i = 0; i < sheet.getPhysicalNumberOfRows(); i++) {
                    if (i == 0) continue;
                    Row row = sheet.getRow(i);
                    String[] s = new String[9];

                    if (row != null) {
                        for (int j = 0; j <= row.getPhysicalNumberOfCells(); j++) { // ë¸”ë¡ ë‹¨ìœ„ ì²˜ë¦¬
                            Cell cell = row.getCell(j);

                            if (cell == null) continue;
                            else {
                                switch(cell.getCellType()){
                                    case FORMULA:
                                        s[j] = cell.getCellFormula();
                                        break;
                                    case NUMERIC:
                                        s[j] = cell.getNumericCellValue()+"";
                                        break;
                                    case STRING:
                                        s[j] = cell.getStringCellValue()+"";
                                        break;
                                    case BLANK:
                                        s[j] = cell.getBooleanCellValue()+"";
                                        break;
                                    case ERROR:
                                        s[j] = cell.getErrorCellValue()+"";
                                        break;
                                }
                            }
                        }
                    }
                    BasicInfo temp = new BasicInfo(s);
                    basicInfo.get(foodIdx).add(temp);
                }
                Log.d("crawling", "v.get(foodIdx).size() is : " + basicInfo.get(nameToIdx.get(foods[foodIdx])).size()); //
                Log.d("crawling", "ë¨");

            }
        }
        catch (Exception e){
            e.printStackTrace();
            Log.d("crawling", "ì•ˆë¨");
        }
//        Log.d("crawling", v.get(2).get(1).phoneNum);
    }


}
  ```
</details>


### ìŒì‹ì  í™”ë©´ êµ¬ì„±
- `ViewPager2`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŒì‹ì  í™”ë©´ì„ ì˜†ìœ¼ë¡œ ë„˜ê¸¸ ìˆ˜ ìˆê²Œ êµ¬í˜„
- `CircleIndicator3`ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ í˜ì´ì§€ì˜ ì¸ë±ìŠ¤ë¥¼ í‘œí˜„
<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/eb06abc6-7eac-4340-b75c-5125bc22573d" width="50%" height="auto">

<details>
    <summary> <img src="https://img.shields.io/badge/MainActivity.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   // ViewPager, Indicator ì„¤ì •
    public void setPager(){
        //ViewPager2
        pager = findViewById(R.id.viewPager);
        PagerAdapter adapter = new PagerAdapter(this);
        pager.setAdapter(adapter);

        //pager ì„¤ì •
        pager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {
            @Override
            public void onPageSelected(int position) {
                super.onPageSelected(position);
                indicator.animatePageSelected(position);
                POSITION = position;
            }
        });

        //Indicator
        indicator = findViewById(R.id.indicator);
        indicator.setViewPager(pager);
        indicator.createIndicators(num_page, 0);
    }
  ```
</details>

<details>
    <summary> <img src="https://img.shields.io/badge/activity_main.xml.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
   <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="320dp">

        <androidx.viewpager2.widget.ViewPager2
            android:id="@+id/viewPager"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />

        <me.relex.circleindicator.CircleIndicator3
            android:id="@+id/indicator"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="bottom"
            android:layout_marginBottom="10dp"
            app:ci_drawable="@drawable/indicator_selected"
            app:ci_drawable_unselected="@drawable/indicator_unselected"
            app:ci_height="7dp"
            app:ci_margin="4dp"
            app:ci_width="7dp" />
    </FrameLayout>
  ```
</details>

### í† ìŠ¤íŠ¸ ë©”ì‹œì§€
- ë¹„ì„ í˜¸ ìŒì‹ ì„ íƒê³¼ ì¹´í…Œê³ ë¦¬ ê¸°ëŠ¥ì„ í†µí•´ ì¶”ì²œí•  ìˆ˜ ìˆëŠ” ìŒì‹ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì•Œë¦¼
- ì •ìƒ ì‘ë™ì„ ìœ„í•´ ë¹„ì„ í˜¸ ìŒì‹ ì„ íƒì„ ë°°ì œí•˜ì—¬ ì¹´í…Œê³ ë¦¬ ë§Œìœ¼ë¡œ ìŒì‹ì„ ì¶”ì²œ
<img src="https://github.com/irrso/mobile-programming-oneul-mwo-meokji/assets/105829324/a21b9657-d76c-42f4-8fd4-e9f53f25db35">

<details>
    <summary> <img src="https://img.shields.io/badge/GetFood.Java-007396.svg?style=flat-square"/> </summary>

  ```Java
            // ì˜ˆì™¸ì¸ ê²½ìš° ì²˜ë¦¬ (ë½‘í í›„ë³´ê°€ ì—†ëŠ” ê²½ìš°)
            boolean flag = false;
            for (int i = 0; i < 37; i++) {
                if (!dislike[i] && categoryFoods[i]) flag = true;
            }
            if (!flag) { // ì˜ˆì™¸ ì²˜ë¦¬ (ë¹„ì„ í˜¸ê°€ 37ê°œì¸ ê²½ìš°)
                Toast.makeText(context, "ì¹´í…Œê³ ë¦¬ì™€ ë¹„ì„ í˜¸ ìŒì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”.", Toast.LENGTH_SHORT).show();
                for (int i = 0; i < 37; i++) dislike[i] = false;
            }

            // í›„ë³´ ì¤‘ì—ì„œ ëœë¤í•˜ê²Œ ì„ íƒ
            while (true) {
                foodIdx = random.nextInt(37);
                if (!dislike[foodIdx] && categoryFoods[foodIdx]) break;
            }
  ```
</details>
